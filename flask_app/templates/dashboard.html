{% extends "base.html" %}

{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<body>
  <div class="p-1" align="middle">
    <h2 style="color:green">{% block title %} Automatisiertes Gew채chshaus {% endblock %}</h2>
    <h3> Dashboard </h3>
    <form method="POST" action="/dashboard">
      <p style="font-family:verdana">
        Satellit ausw채hlen:
        <SELECT name="satellite_id" style="font-family:verdana">
          {% for i in satellite_list %}
          <OPTION value={{i[0]}}>{{i[1]}}</OPTION>
          {% endfor %}
        </SELECT>
        &nbsp;&nbsp;
        Programm ausw채hlen:
        <SELECT name="programm_id" style="font-family:verdana">
          {% for i in programm_list %}
          <OPTION value={{i[0]}}>{{i[1]}}</OPTION>
          {% endfor %}
        </SELECT>
        &nbsp;&nbsp;
        Zeitraum ausw채hlen:
        <SELECT name="selected_date" style="font-family:verdana">
          {% for i in date_span %}
          <OPTION value={{i[0]}}>{{i[1]}}</OPTION>
          {% endfor %}
        </SELECT>
      </p>
      <input class="float right" type="submit" name="loadButton" value="Laden">
    </form>
  </div>
</body>

<body>
  <div class="container">
    <div class="row">
      <div class="col">
        <canvas id="chart" width="500" height="200"></canvas>

        <script>



          // get bar chart canvas

          //steps = 4
          //max = {{ max }}

          // draw bar chart
          new Chart(document.getElementById("chart"), {
            type: 'line',
            data: {
              lables: [
                {% for item in dates_list %}
                  "{{ item }}",
 {% endfor %}
                ],

            datasets : [{

              data: [
                {% for item in temperature_list %}
            {{ item }},
            {% endfor %}],
            lable: "Temperatur"

 
          }]
},

            options: {
            title: {
              display: true,
              text: 'Bedingungen'
            },

            yAxes: [{
              ticks: {
                beginAtZero: true
              }
            }]
          }
          
}
          );


        </script>
      </div>

      <div class="col">
        <canvas id="chart1" width="500" height="200"></canvas>

        <script>

          var brightness_data =  {
            lables: [
                {% for item in dates_list %}
                  "{{ item }}",
 {% endfor %}
                ],

            datasets : [{
                  fillColor : "rgba(172,194,132,0.4)",
                    strokeColor : "#ACC26D",
                    pointColor : "#fff",
                    pointStrokeColor : "#9DB86D",
              data: [
                {% for item in brightness_list %}
            {{ item }},


            {% endfor %}],
            lable: "Helligkeit"
           

     
          }]
        }

          // get bar chart canvas

          //steps = 4
          // max = {{ max }}

          // draw bar chart
          var chart1 = document.getElementById('chart1').getContext('2d');

          new Chart(chart1).Line(brightness_data);

        </script>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <canvas id="chart3" width="500" height="200"></canvas>

        <script>



          // get bar chart canvas

          // steps = 4
          //max = {{ max }}

          // draw bar chart

          new Chart(document.getElementById("chart3"), {
            type: 'line',
            data: {
              lables: [
                {% for item in dates_list %}
                  "{{ item }}",
 {% endfor %}
                ],

            datasets : [{

              data: [
                {% for item in airhumidity_list %}
            {{ item }},


            {% endfor %}],
            label: "Luftfeuchhtigkeit"


          }]
},

            options: {
            title: {
              display: true,
              text: 'Bedingungen'
            },

            yAxes: [{
              ticks: {
                beginAtZero: true
              }
            }]
          }
          
}
          );


        </script>
      </div>
      <div class="col">
        <canvas id="chart4" width="500" height="200"></canvas>

        <script>



          // get bar chart canvas

          // steps = 4
          //max = {{ max }}

          // draw bar chart

          new Chart(document.getElementById("chart4"), {
            type: 'line',
            data: {
              lables: [
                {% for item in dates_list %}
                  "{{ item }}",
 {% endfor %}
                ],

            datasets : [{

              data: [
                {% for item in soilhumidity_list %}
            {{ item }},


            {% endfor %}],
            label: "Bodenfeuchtigkeit"

          }]
},

            options: {
            title: {
              display: true,
              text: 'Bedingungen'
            },

            yAxes: [{
              ticks: {
                beginAtZero: true
              }
            }]
          }
        
}
          );


        </script>
      </div>
    </div>
  </div>
</body>
{% endblock %}